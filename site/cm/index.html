<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

        <title>Cell Mapping - flacco Tutorial</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../css/prettify-1.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link href="../custom-r-highlight.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="..">flacco Tutorial</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Introduction <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../quickstart">Quick Start</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Features <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../ela">Classical Exploratory Landscape Analysis</a>
                        </li>
                    
                        <li class="active">
                            <a href=".">Cell Mapping</a>
                        </li>
                    
                        <li >
                            <a href="../gcm">Generalized Cell Mapping</a>
                        </li>
                    
                        <li >
                            <a href="../barriertrees">Barrier Trees</a>
                        </li>
                    
                        <li >
                            <a href="../dispersion">Dispersion</a>
                        </li>
                    
                        <li >
                            <a href="../ic">Information Content</a>
                        </li>
                    
                        <li >
                            <a href="../nbf">Nearest Better Clustering</a>
                        </li>
                    
                        <li >
                            <a href="../misc_features">Miscellaneous</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Miscellaneous <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../visualisations">Visualisations</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../ela">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../gcm">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/kerschke/flacco">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#cell-mapping-features">Cell Mapping Features</a></li>
        
            <li><a href="#angle">Angle</a></li>
        
            <li><a href="#cell-convexity">Cell Convexity</a></li>
        
            <li><a href="#gradient-homogeneity">Gradient Homogeneity</a></li>
        
            <li><a href="#literature-reference">Literature Reference</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="cell-mapping-features">Cell Mapping Features</h1>
<p>The idea of <em>cell mapping</em> is that a continuous search space is partitioned in every dimension and thus achieving a discretization of the original search space into cells. This discretization of the original sample into cells allows the computation of features, which help to characterize the <em>global structure</em> or <em>multimodality</em> of an optimization problem.
Based on this approach, three different feature sets can be computed: angle (<code>"cm_angle"</code>), convexity (<code>"cm_conv"</code>) and gradient homogeneity (<code>"cm_grad"</code>).</p>
<h2 id="angle">Angle</h2>
<p>The initial idea of the <em>angle features</em> (<code>"cm_angle"</code>) is that the best and worst values within the cells might return some insight of the underlying function&#8217;s landscape. If those two observations lie in opposite directions, it indicates a trend within the cell. In that case the angle between the vectors from cell center to worst value and cell center to best value would be close to 180&deg;.
The angles of all cells from the grid will then be aggregated using the mean and the standard deviation.</p>
<pre><code class="r">X = createInitialDesign(n.obs = 1200, dim = 3)
y = rowSums(X^2)
feat.object = createFeatureObject(X = X, y = y, blocks = c(4, 6, 3))
calculateFeatureSet(feat.object, set = &quot;cm_angle&quot;)
</code></pre>

<p>Furthermore, the standard deviation and mean of the lengths of the two above-mentioned vectors (i.e. distances from the center of a cell to the best/worst observation within that cell) are used as additional features. In case of simple functions (such as the sphere function), the variation should be low as the majority of the cells should have similar distances &#8212; due to the fact that they usually lie close to the borders of the cells. In case of very multimodal functions, the variation should be rather high as cells with local optima result in contrary distances (short distances of the best values and long distances of the worst values) compared to cells without any local optima.</p>
<p>Since interactions between cells are ignored, i.e. these features are computed locally per cell, the features are considered to be independent from the search space dimensionality.</p>
<p><img alt="Illustration of the idea of Angle" src="../angle.svg" /></p>
<p>(Inspired by Kerschke, P. et al., 2014)</p>
<h2 id="cell-convexity">Cell Convexity</h2>
<p>For this feature set (<code>"cm_conv"</code>), all possible combinations of three (linearly) neighbouring cells within the grid are computed. Per default, only horizontally and vertically neighbouring cells are considered. By adding <code>cm_conv.diag = TRUE</code> to the list of control parameters, diagonally neighbouring cells are considered as well.</p>
<pre><code class="r">X = createInitialDesign(n.obs = 1200, dim = 3)
y = rowSums(X^2)
feat.object = createFeatureObject(X = X, y = y, blocks = c(4, 6, 3))
calculateFeatureSet(feat.object, set = &quot;cm_conv&quot;)
</code></pre>

<p>During the computation of the cell mapping convexity features, only the cells&#8217; representatives are considered. Based on those prototypes, the concavity or convexity of the landscape is approximated.</p>
<p>Given the function evaluations of the three neighbouring cells, this feature computes the convex-combination between f(x<sub>1</sub>) and f(x<sub>3</sub>). That value is then compared to the corresponding value of f(x<sub>2</sub>). The figure below illustrates the resulting decision, i.e. whether a combination indicates convexity or concavity. Just place the value of f(x<sub>2</sub>) above x<sub>2</sub> and infer the corresponding decision.</p>
<p><img alt="Illustration of the decision for or against (strong) convexity" src="../convexity.svg" /></p>
<p>(Inspired by Kerschke, P. et al., 2014)</p>
<h2 id="gradient-homogeneity">Gradient Homogeneity</h2>
<p>For every point within a cell&#8217;s sample, the nearest neighbor is identified and afterwards, the normalized vectors, which are always rotated towards the better points, are computed. Then, all normalized vectors are summed up and divided by the maximal possible vector length (i.e. the number of points). In case of rather randomly distributed objective values, the fraction should be close to zero as this would indicate vectors, which are pointing in different directions. In case of a strong trend the value should be close to one (i.e., all vectors point into the same direction).</p>
<pre><code class="r">X = createInitialDesign(n.obs = 1200, dim = 3)
y = rowSums(X^2)
feat.object = createFeatureObject(X = X, y = y, blocks = c(4, 6, 3))
calculateFeatureSet(feat.object, set = &quot;cm_grad&quot;)
</code></pre>

<p>Those values are then aggregated over all cells &#8212; again, using the mean and the standard deviation. Simple unimodal functions shall thus generate very high mean values.</p>
<p><img alt="Illustration of the idea of Gradient Homogeneity" src="../gradienthomogeneity.svg" /></p>
<p>(Inspired by Kerschke, P. et al., 2014)</p>
<h2 id="literature-reference">Literature Reference</h2>
<p>Kerschke, P., Preuss, M., Hernandez, C., Schuetze, O., Sun, J.-Q., Grimme, C., Rudolph, G., Bischl, B., and Trautmann, H. (2014): &#8220;Cell Mapping Techniques for Exploratory Landscape Analysis&#8221;, in: EVOLVE &#8212; A Bridge between Probability, Set Oriented Numbers, and Evolutionary Computation V, pp. 151&#8212;131, Springer (<a href="http://dx.doi.org/10.1007/978-3-319-07494-8_9">http://dx.doi.org/10.1007/978-3-319-07494-8_9</a>).</p>
</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/prettify-1.0.min.js"></script>
        <script src="../js/base.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/restrict-hljs.js"></script>
    </body>
</html>