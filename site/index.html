<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>flacco Tutorial</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/theme.css" type="text/css" />
  <link rel="stylesheet" href="./css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="./css/highlight.css">
  <link href="./custom-r-highlight.css" rel="stylesheet">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="./js/highlight.pack.js"></script>
  <script src="./js/theme.js"></script>
  <script src="./js/highlight.pack.js"></script>
  <script src="./js/restrict-hljs.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> flacco Tutorial</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
        <span>Simple Features</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="ela/">ELA</a>
                    
                </li>
            
        

    
        
        <span>Cell Mapping Features</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="cm/">Simple Cell Mapping</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="gcm/">Generalized Cell Mapping</a>
                    
                </li>
            
        

    
        
        <span>Extended Features</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="ic/">Information Content</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="misc/">Miscellaneous</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    <li>flacco</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/kerschke/flacco" class="icon icon-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h1 id="flacco-tutorial">flacco Tutorial</h1>
<p>This tutorial introduces you to the calculation of exploratory landscape analysis (ELA) features using the <a href="https://github.com/kerschke/flacco"><strong>flacco</strong> R package</a>.</p>
<p>The current development version of the R package can be obtained from <a href="https://github.com/kerschke/flacco">GitHub</a>.</p>
<h2 id="quick-start">Quick start</h2>
<h3 id="calculation-of-a-simple-feature">Calculation of a simple feature</h3>
<p>For simple features you typically only need to supply the data that you have at hand.  For this, the parameters <code>X</code> and <code>y</code> of the function <code>createFeatureObject</code> are used, as illustrated in the example below.</p>
<p>The function <code>createFeatureObject</code> creates a <code>FeatureObject</code> instance which holds relevant information about the input data.  These instances are always the first argument to any feature-calculating function in <strong>flacco</strong>.</p>
<pre><code class="r">library(flacco)

## (1) Gather data
X = t(replicate( n = 2000, expr = runif(n = 5, min = -10, max = 10) ))
y = apply(X, 1, function(x) { sum(x^2) })

## (2) Create a feature object
feat.object = createFeatureObject(X = X, y = y)

## (3) Have a look at feat.object, if you want to
print(feat.object)

## (4) Compute the meta model features
calculateMetaModel(feat.object)
</code></pre>

<h3 id="calculation-of-a-feature-that-needs-additional-function-evaluations">Calculation of a feature that needs additional function evaluations</h3>
<p>Some features need to know the original function, so that they can perform further evaluations that are necessary to compute feature values.  This is enabled by the <code>FeatureObject</code> which can also hold a function expression.</p>
<p>Note that you can also only pass <code>X</code> and <code>fun</code> for the creation of a <code>FeatureObject</code> &#8212; values of <code>y</code> will be derived automatically!</p>
<p>For example, the <code>calculateConvexity</code> feature function needs to know the original function.  But don&#8217;t worry &#8212; if you don&#8217;t pass the function, <code>calculateConvexity</code> will complain and give you a hint.</p>
<pre><code class="r">library(flacco)

## (1) Gather data (Hint: objective values are not set here!)
X = t(replicate( n = 2000, expr = runif(n = 5, min = -10, max = 10) ))

## (2) Create a feature object
feat.object = createFeatureObject(X = X, fun = function(x) { sum(x^2) })

## (3) Have a look at feat.object, if you want to
print(feat.object)

## (4) Compute the convexity features
calculateConvexity(feat.object)
</code></pre>

<p>The manual of the function typically indicates how many additional evaluations will be needed.  In this specific example you may also control how large the generated sample should be:</p>
<pre><code class="r">## (4.a) Compute the convexity features using a sample of 500, 
##                instead of the default of 1000
calculateConvexity(feat.object, control = list(
    convex.nsample = 500
  ))
</code></pre>

<p>Many functions support passing the <code>control</code> list parameter to configure some details on how features should be computed.  However, each function supports different parameters.  It is therefore useful to look into the documentation and find out what can be adapted.</p>
<h3 id="calculation-of-a-cell-mapping-feature">Calculation of a cell mapping feature</h3>
<p>Cell mapping features differ from the others in the fact that they convert a continuous search space into a discretized one.  This is achieved by dividing the entire search space into a grid with a finite amount of cells and assigning each observation to exactly one cell.  Afterwards, the search space is only regarded as a set of discrete cells.</p>
<p>Consequently, you need to define the grid by setting the number of cells per dimension when creating a <code>FeatureObject</code>, since &#8212; from the perspective of the cell mapping features &#8212; it is part of the input data.  If you don&#8217;t, cell mapping feature functions will abort with an error.</p>
<pre><code class="r">library(flacco)

## (1) Gather data
X = t(replicate( n = 2000, expr = runif(n = 5, min = -10, max = 10) ))
y = apply(X, 1, function(x) { sum(x^2) })

## (2) Create a feature object
feat.object = createFeatureObject(X = X, y = y, blocks = c(10, 5, 5, 8, 4))

## (3) Have a look at feat.object, if you want to
print(feat.object)

## (4) Compute the gradient homogeneity features
calculateGradientHomogeneity(feat.object)
</code></pre>

<p>The above example splits into 10 blocks in the first dimension, 5 blocks in the second and third, 8 blocks in the fourth, and 4 blocks in the fifth. If you want the same amount of blocks in every dimension, you can write this more cleanly, defining the cells per dimension implicitly:</p>
<pre><code class="r">## (2.a) Create a feature object
feat.object = createFeatureObject(X = X, y = y, blocks = 5)
</code></pre>


            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ela/" class="btn btn-neutral float-right" title="ELA"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
            <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
        
      <span><a href="" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="ela/" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>