<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quick Start - flacco Tutorial</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../custom-r-highlight.css" rel="stylesheet">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script>
  <script src="../js/highlight.pack.js"></script>
  <script src="../js/restrict-hljs.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> flacco Tutorial</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
        <span>Introduction</span>
            
                <li class="toctree-l1 current">
                    <a class="current" href=".">Quick Start</a>
                    
                        <ul>
                        
                            <li class="toctree-l2"><a href="#calculation-of-a-simple-feature">Calculation of a simple feature</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#calculation-of-more-expensive-features">Calculation of more expensive features</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#calculation-of-a-cell-mapping-feature">Calculation of a cell mapping feature</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#drawing-explanatory-plots">Drawing explanatory plots</a></li>
                            
                        
                        </ul>
                    
                </li>
            
        

    
        
        <span>Classical ELA Features</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../ela">Classical Exploratory Landscape Analysis</a>
                    
                </li>
            
        

    
        
        <span>Cell Mapping Features</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../cm">Cell Mapping</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../gcm">Generalized Cell Mapping</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../barriertrees">Barrier Trees</a>
                    
                </li>
            
        

    
        
        <span>Extended Features</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../base">Basic Features</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../dispersion">Dispersion Features</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../ic">Information Content</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../nbf">Nearest Better Features</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../pca">Principal Component Features</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href=".."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    <li>Quick Start</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/kerschke/flacco" class="icon icon-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h1 id="calculation-of-a-simple-feature">Calculation of a simple feature</h1>
<p>For simple features you typically only need to supply the data that you have at hand.  For this, the arguments <code>X</code> and <code>y</code> should be passed towards <code>createFeatureObject</code>, as illustrated in the example below.</p>
<p>The function <code>createFeatureObject</code> creates a <code>FeatureObject</code> instance which holds relevant information about the input data. These instances are always the first argument to any feature-calculating function in <strong>flacco</strong>.</p>
<pre><code class="r">library(flacco)

## (1) Create some example-data
X = t(replicate( n = 2000, expr = runif(n = 5, min = -10, max = 10) ))
y = apply(X, 1, function(x) sum(x^2))

## (2) Compute the feature object
feat.object = createFeatureObject(X = X, y = y)

## (3) Have a look at feat.object
print(feat.object)

## (4) Calculate a feature set, e.g. the meta model features
calculateMetaModel(feat.object)
</code></pre>

<h1 id="calculation-of-more-expensive-features">Calculation of more expensive features</h1>
<p>Some features need to perform further function evaluations in order to compute the feature values. Therefore, one can pass the function <code>fun</code> to the <code>FeatureObject</code>.</p>
<p>Note, that it is also possible to only pass <code>X</code> and <code>fun</code> to <code>createFeatureObject</code> &#8212; the values of <code>y</code> will be automatically be computed!</p>
<p>For example, the <code>calculateConvexity</code> feature function needs to know the original function. But don&#8217;t worry &#8212; if you don&#8217;t pass the function, <code>calculateConvexity</code> will complain and give you a hint.</p>
<pre><code class="r">library(flacco)

## (1) Create data (note that objective values are not set here!)
X = t(replicate( n = 2000, expr = runif(n = 5, min = -10, max = 10) ))

## (2) Compute the feature object
feat.object = createFeatureObject(X = X, fun = function(x) sum(x^2))

## (3) Have a look at feat.object
print(feat.object)

## (4) Calculate the convexity features
calculateConvexity(feat.object)
</code></pre>

<p>The manual of the function typically indicates how many additional evaluations will be needed. The following example shows you, how you could control the size of the generated sample:</p>
<pre><code class="r">## Calculate the convexity features using a sample of size 500, 
## instead of the default of 1000.
calculateConvexity(feat.object, control = list(convex.nsample = 500))
</code></pre>

<p>A lot of our functions allow to configure certain details on how features
should be computed using the <code>control</code> list parameter. However, as each
function supports different parameters it is advisable to have a look into the
documentation of each function and find out which parameters can be adapted.</p>
<h1 id="calculation-of-a-cell-mapping-feature">Calculation of a cell mapping feature</h1>
<p>Cell mapping features differ from the others in the fact that they convert a
continuous search space into a discretized one. This is achieved by dividing
the entire search space into a grid with a finite amount of cells (per
dimension) and assigning each observation to exactly one cell. Afterwards, the
search space is only regarded as a set of discrete cells.</p>
<p>Consequently, you need to define the grid by setting the number of cells per
dimension when creating a <code>FeatureObject</code>, since &#8212; from the perspective of
the cell mapping features &#8212; it is part of the input data. If you don&#8217;t provide
them, the attempt of computing a cell mapping feature will abort with an error.</p>
<pre><code class="r">library(flacco)

## (1) Create data
X = t(replicate( n = 2000, expr = runif(n = 5, min = -10, max = 10) ))
y = apply(X, 1, function(x) sum(x^2))

## (2) Compute a feature object
feat.object = createFeatureObject(X = X, y = y, blocks = c(10, 5, 5, 8, 4))

## (3) Have a look at feat.object
print(feat.object)

## (4) Calculate cell mapping features, e.g. the gradient homogeneity features
calculateGradientHomogeneity(feat.object)
</code></pre>

<p>The above example splits the data into 10 blocks in the first dimension, 5
blocks in the second and third, 8 blocks in the fourth, and 4 blocks in the
fifth. If you always want the same amount of blocks in every dimension, you can
simplify your input by writing:</p>
<pre><code class="r">## Compute the feature object
feat.object = createFeatureObject(X = X, y = y, blocks = 5)
</code></pre>

<h1 id="drawing-explanatory-plots">Drawing explanatory plots</h1>
<p>Some features come with additional plots that visualize the features or intermediate results.  For example, the mechanics behind the Generalized Cell Mapping approach are sometimes hard to grasp.  For that reason, a plot visualizes a (two-dimensional) grid and indicated the transition probabilities from any cell to its basins using proportional arrows. </p>
<pre><code class="r">library(flacco)

## (1) Create data
X = replicate(n = 2000, expr = runif(n = 2, min = -10, max = 10))
X = t(X)
y = apply(X, 1, function(x) { 
  x[1]^4 + 100 * (x[1] - 3)^3 + 1000 * x[1] + x[2] 
})

## (2) Compute a feature object
feat.object = createFeatureObject(X = X, y = y, 
    lower = -10, upper = 10, blocks = 10)

## (3) Have a look at feat.object
print(feat.object)

## (4) Since three plots will be created -- one for each of the three
## approaches (Minimum, Average and Nearest Prototype) -- you might want to
## show them side-by-side
par(mfrow = c(1, 3))

## (5) Calculate the gradient homogeneity features
calculateGCMFeatures(feat.object, control = list(gcm.plot = TRUE))
</code></pre>


            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ela" class="btn btn-neutral float-right" title="Classical Exploratory Landscape Analysis"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="flacco"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
            <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
        
      <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../ela" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>